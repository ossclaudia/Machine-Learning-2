Explicação das tabelas precisas para nos irmos lembrando:

1- Usar a tabela D_ICD_DIAGNOSES.csv para escolher um código de doença.

2- Usar a tabela DIAGNOSES_ICD.csv para encontrar todos os SUBJECT_ID (pacientes) com esse código.

Nota: um paciente (SUBJECT_ID) pode ter várias admissões (HADM_ID), e cada admissão pode ter várias estadias na UCI (ICUSTAY_ID).
Como DIAGNOSES_ICD só tem HADM_ID e não tem ICUSTAY_ID, assumimos que o diagnóstico será o mesmo para todas as ICUSTAY_ID que pertencem ao mesmo HADM_ID.

Para a visualização dos dados igual à stora:

Eixo X: tempo em dias
Eixo Y: valor de algum item (e.g., volume de fluido administrado)

1- Os dados para isso vêm da tabela CHARTEVENTS.csv ou INPUTEVENTS_MV.csv (dependendo do tipo de item).
2- Para decifrar os ITEMID (tipo de medição), usar a tabela D_ITEMS.csv


Target Variable -> tempo de permanência na UCI, LOS

Só existem 59 pacientes com medição de heart rate, todas as medidas só existem p poucos pacientes (no chart events, p doença congestive heart failure)
Também só existem 70 ICUSTAY_ID unicos com medição de heart rate, já que oq importa são os ICUSTAYS (LOS é p cada icustay) e não os patients
Máximo de medidas p icustay único são 89.


Code 428 - number of diagnoses with seq=1.0 : 1488 - Number of chartevents: 986502
Code 4280 - number of diagnoses with seq=1.0 : 570 - Number of chartevents: 137698

Perguntas:

- quais comordbidades podem agravar o heartfailure? Usar as top5 ou as mais importantes
- usar macros ou micros nas comordbidades


TODO:

- filtrar chartevents para primeiro/segundo dia  - DONE
- dropar NAs  - DONE
- Fazer OHE das comorbidities - DONE
- Add Elixhauser Comorbidity Index (EI)
- criar colunas pros items do chartvents
- historgamas item por paciente, icu stays por paciente
- criar feature que diga se o paciente teve internações anteriores (na mesma admission - feature, em outra amdissioin - outra feature ?) - se foi longa